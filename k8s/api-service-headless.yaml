apiVersion: v1
kind: Service
metadata:
  name: oj-api-server-headless
  namespace: oj-api
  labels:
    app: oj-api-server
spec:
  type: ClusterIP
  clusterIP: None  # Headless Service - 返回所有 Pod IP 而非單一 ClusterIP
  ports:
  - port: 3001
    targetPort: 3001
    protocol: TCP
    name: grpc-http
  selector:
    app: oj-api-server
  # publishNotReadyAddresses: true  # 如果需要連接到尚未 Ready 的 Pod，取消註釋
